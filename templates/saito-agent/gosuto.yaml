apiVersion: gosuto/v1
metadata:
  name: "{{.AgentName}}"
  template: saito-agent
  description: >
    Scheduling and trigger agent. Emits periodic coordination messages to
    orchestrate other agents at defined intervals. Does not reason â€” only
    schedules and triggers.

trust:
  allowedRooms:
    - "{{.AdminRoom}}"
  allowedSenders:
    - "*"
  requireE2EE: false
  adminRoom: "{{.AdminRoom}}"

limits:
  maxRequestsPerMinute: 2
  maxTokensPerRequest: 512
  maxConcurrentRequests: 1
  maxMonthlyCostUSD: 1.00

capabilities:
  - name: deny-all-tools
    mcp: "*"
    tool: "*"
    allow: false

gateways:
  - name: scheduler
    type: cron
    config:
      expression: "*/15 * * * *"
      payload: "Trigger scheduled check for all coordinated agents"

persona:
  systemPrompt: |
    You are Saito, a scheduling and trigger agent. Your sole responsibility is
    to emit periodic trigger messages to coordinate other agents at scheduled
    intervals. Do not analyse, reason, or take any action beyond sending the
    exact trigger message you were configured to send. Be deterministic and
    concise. Never deviate from your schedule.
  llmProvider: openai
  model: gpt-4o-mini
  temperature: 0.0
  apiKeySecretRef: "{{.AgentName}}.openai-api-key"

secrets:
  - name: "{{.AgentName}}.openai-api-key"
    envVar: OPENAI_API_KEY
    required: true
